{"version":3,"file":"./runtime/fields-ui.js","mappings":"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","sources":["webpack://create-content-model/external window \"React\"","webpack://create-content-model/external window [\"wp\",\"components\"]","webpack://create-content-model/external window [\"wp\",\"coreData\"]","webpack://create-content-model/external window [\"wp\",\"editor\"]","webpack://create-content-model/external window [\"wp\",\"element\"]","webpack://create-content-model/external window [\"wp\",\"i18n\"]","webpack://create-content-model/external window [\"wp\",\"plugins\"]","webpack://create-content-model/webpack/bootstrap","webpack://create-content-model/webpack/runtime/compat get default export","webpack://create-content-model/webpack/runtime/define property getters","webpack://create-content-model/webpack/runtime/hasOwnProperty shorthand","webpack://create-content-model/webpack/runtime/make namespace object","webpack://create-content-model/./includes/runtime/fields-ui.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerPlugin } from '@wordpress/plugins';\nimport { PluginDocumentSettingPanel } from '@wordpress/editor';\nimport {\n\tButton,\n\tModal,\n\tTextControl,\n\tTextareaControl,\n\t__experimentalVStack as VStack,\n\tCard,\n\tCardBody,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Our base plugin component.\n * @returns CreateContentModelPageSettings\n */\nconst CreateContentModelPageSettings = function () {\n\tconst [ isFieldsOpen, setFieldsOpen ] = useState( false );\n\n\tconst [ meta, setMeta ] = useEntityProp(\n\t\t'postType',\n\t\tcontentModelFields.postType,\n\t\t'meta'\n\t);\n\n\tconst fields = contentModelFields.fields ? contentModelFields.fields : [];\n\n\tconsole.log( meta );\n\n\treturn (\n\t\t<PluginDocumentSettingPanel\n\t\t\tname=\"create-content-model-page-settings\"\n\t\t\ttitle={ __( 'Custom Fields' ) }\n\t\t\tclassName=\"create-content-model-page-settings\"\n\t\t>\n\t\t\t<VStack>\n\t\t\t\t<Card>\n\t\t\t\t\t{ fields.map( ( field ) => (\n\t\t\t\t\t\t<CardBody key={ field.slug } size=\"small\">\n\t\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t\t</CardBody>\n\t\t\t\t\t) ) }\n\t\t\t\t</Card>\n\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ () => setFieldsOpen( true ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Edit All Fields' ) }\n\t\t\t\t</Button>\n\t\t\t</VStack>\n\t\t\t{ isFieldsOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Manage Fields' ) }\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tonRequestClose={ () => setFieldsOpen( false ) }\n\t\t\t\t>\n\t\t\t\t\t<FieldsList />\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</PluginDocumentSettingPanel>\n\t);\n};\n\n/**\n * Display the list of fields inside the modal.\n * @returns FieldsList\n */\nconst FieldsList = () => {\n\tconst fields = contentModelFields.fields;\n\n\treturn (\n\t\t<>\n\t\t\t<VStack spacing={ 16 }>\n\t\t\t\t{ fields.map( ( field ) => (\n\t\t\t\t\t<FieldRow key={ field.slug } field={ field } />\n\t\t\t\t) ) }\n\t\t\t</VStack>\n\t\t</>\n\t);\n};\n\n/**\n * Display a row for a field.\n * @param {Object} field\n * @returns FieldRow\n */\nconst FieldRow = ( { field } ) => {\n\tconst [ meta, setMeta ] = useEntityProp(\n\t\t'postType',\n\t\tcontentModelFields.postType,\n\t\t'meta'\n\t);\n\n\tconst value = meta[ field.slug ] ?? '';\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t\t<FieldInput\n\t\t\t\t\tfield={ field }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tsaveChanges={ ( slug, value ) => {\n\t\t\t\t\t\tsetMeta( {\n\t\t\t\t\t\t\t[ slug ]: value,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<small>\n\t\t\t\t\t<em>{ field.description }</em>\n\t\t\t\t</small>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\n/**\n * Display the input for a field.\n * @param {Object} field\n * @param {boolean} isDisabled\n * @returns FieldInput\n */\nconst FieldInput = ( { field, isDisabled = false, value, saveChanges } ) => {\n\tswitch ( field.type ) {\n\t\tcase 'image':\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<label\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\ttextTransform: 'uppercase',\n\t\t\t\t\t\t\tfontSize: '11px',\n\t\t\t\t\t\t\tmarginBottom: 'calc(8px)',\n\t\t\t\t\t\t\tfontWeight: '500',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ field.label }\n\t\t\t\t\t</label>\n\t\t\t\t\t<div style={ { display: 'block' } }>\n\t\t\t\t\t\t<Button variant=\"secondary\" disabled={ isDisabled }>\n\t\t\t\t\t\t\t{ __( 'Upload Image' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'textarea':\n\t\t\treturn (\n\t\t\t\t<TextareaControl\n\t\t\t\t\tlabel={ field.label }\n\t\t\t\t\treadOnly={ isDisabled }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ ( value ) => saveChanges( field.slug, value ) }\n\t\t\t\t/>\n\t\t\t);\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ field.label }\n\t\t\t\t\treadOnly={ isDisabled }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ ( value ) => saveChanges( field.slug, value ) }\n\t\t\t\t/>\n\t\t\t);\n\t\t\tbreak;\n\t}\n};\n\n// Register the plugin.\nregisterPlugin( 'create-content-model-page-settings', {\n\trender: CreateContentModelPageSettings,\n} );\n"],"names":["registerPlugin","PluginDocumentSettingPanel","Button","Modal","TextControl","TextareaControl","__experimentalVStack","VStack","Card","CardBody","__","useEntityProp","useState","CreateContentModelPageSettings","isFieldsOpen","setFieldsOpen","meta","setMeta","contentModelFields","postType","fields","console","log","createElement","name","title","className","map","field","key","slug","size","label","variant","onClick","onRequestClose","FieldsList","Fragment","spacing","FieldRow","_meta$field$slug","value","FieldInput","saveChanges","description","isDisabled","type","style","textTransform","fontSize","marginBottom","fontWeight","display","disabled","readOnly","onChange","render"],"sourceRoot":""}